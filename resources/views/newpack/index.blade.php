@extends('master.master')

@section('newpackActive','active')
@section('page_title', $title)

@section('konten')

    <div class="row">
        <div class="col-sm-12">
          <div class="card">
            <h6 class="card-header">
              Tracking Availability New Pack By Account
            </h6>
            <div class="card-body box_filter">
                <div class="table-responsive">
                <table class="table table-hover table-sm data-account">
                    <thead>
                        <tr>
                            <th rowspan="3" width="20">No</th>
                            <th rowspan="3">Channel</th>
                            <th rowspan="3">Account</th>
                            <th colspan="10" class="text-center">1+</th>
                            <th colspan="9" class="text-center">3+</th>
                            <th colspan="8" class="text-center">5+</th>
                            <th rowspan="3">Total</th>
                        </tr>
                        <tr>
                            <th colspan="4" class="text-center">Honey</th>
                            <th colspan="4" class="text-center">Vanila</th>
                            <th colspan="2" class="text-center">Choco</th>

                            <th colspan="4" class="text-center">Honey</th>
                            <th colspan="3" class="text-center">Vanila</th>
                            <th colspan="2" class="text-center">Choco</th>

                            <th colspan="3" class="text-center">Honey</th>
                            <th colspan="2" class="text-center">Vanila</th>
                            <th colspan="3" class="text-center">Choco</th>
                        </tr>
                        <tr>
                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>

                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>

                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                        </tr>
                    </thead>
                    <tfoot align="right">
                        <tr>
                            <th colspan="3"></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </tfoot>
                </table>
                </div>
            </div>
          </div>
        </div>

    </div>

    <br>

    <div class="row">
        <div class="col-sm-12">
          <div class="card">
            <h6 class="card-header">
              Tracking Availability New Pack By Area
            </h6>
            <div class="card-body box_filter">
                <div class="table-responsive">
                <table class="table table-hover table-sm data-area">
                    <thead>
                        <tr>
                            <th rowspan="3" width="20">No</th>
                            <th rowspan="3">Region</th>
                            <th rowspan="3">Area</th>
                            <th rowspan="3">BP</th>
                            <th rowspan="3">Store</th>
                            <th colspan="10" class="text-center">1+</th>
                            <th colspan="9" class="text-center">3+</th>
                            <th colspan="8" class="text-center">5+</th>
                            <th rowspan="3">Total</th>
                        </tr>
                        <tr>
                            <th colspan="4" class="text-center">Honey</th>
                            <th colspan="4" class="text-center">Vanila</th>
                            <th colspan="2" class="text-center">Choco</th>

                            <th colspan="4" class="text-center">Honey</th>
                            <th colspan="3" class="text-center">Vanila</th>
                            <th colspan="2" class="text-center">Choco</th>

                            <th colspan="3" class="text-center">Honey</th>
                            <th colspan="2" class="text-center">Vanila</th>
                            <th colspan="3" class="text-center">Choco</th>
                        </tr>
                        <tr>
                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>

                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>

                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                        </tr>
                    </thead>
                    <tfoot align="right">
                        <tr>
                            <th colspan="5"></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </tfoot>
                </table>
                </div>
            </div>
          </div>
        </div>

    </div>

    <br>

    <div class="row">
        <div class="col-sm-12">
          <div class="card">
            <h6 class="card-header">
              Tracking Availability New Pack By Store
            </h6>
            <div class="card-body box_filter">
                <div class="table-responsive">
                <table class="table table-hover table-sm data-store">
                    <thead>
                        <tr>
                            <th rowspan="3" width="20">No</th>
                            <th rowspan="3">Region</th>
                            <th rowspan="3">Area</th>
                            <th rowspan="3">Channel</th>
                            <th rowspan="3">Account</th>
                            <th rowspan="3">Store</th>
                            <th colspan="10" class="text-center">1+</th>
                            <th colspan="9" class="text-center">3+</th>
                            <th colspan="8" class="text-center">5+</th>
                            <th rowspan="3">Total</th>
                        </tr>
                        <tr>
                            <th colspan="4" class="text-center">Honey</th>
                            <th colspan="4" class="text-center">Vanila</th>
                            <th colspan="2" class="text-center">Choco</th>

                            <th colspan="4" class="text-center">Honey</th>
                            <th colspan="3" class="text-center">Vanila</th>
                            <th colspan="2" class="text-center">Choco</th>

                            <th colspan="3" class="text-center">Honey</th>
                            <th colspan="2" class="text-center">Vanila</th>
                            <th colspan="3" class="text-center">Choco</th>
                        </tr>
                        <tr>
                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>

                            <th>200g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>

                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>400g</th>
                            <th>800g</th>
                            <th>1000g</th>
                        </tr>
                    </thead>
                    <tfoot align="right">
                        <tr>
                            <th colspan="6"></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </tfoot>
                </table>
                </div>
            </div>
          </div>
        </div>

    </div>

@endsection

@section('my-script')
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap5.min.css">
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap5.min.js"></script>

{{-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script> --}}
<script src="https://cdn.datatables.net/plug-ins/1.10.19/api/sum().js"></script>

<script>

    allReport();
    function allReport() {
        newpackByAccount();
        // newpackByArea();
        // newpackByStore();
    }

    function newpackByAccount(){
        $('.data-account').DataTable({
            dom: 'Blrtip',
            processing: true,
            serverSide: true,
            searching : false,
            // lengthChange : false,
            pageLength  : 10,
            bDestroy: true,
            order: [[ 0, "asc" ]],
            ajax: {
                url  : "/newpackByAccount",
                type : "POST",
                data : function(d){
                    d._token = $("input[name=_token]").val();
                },
            },
            lengthMenu: [ [10, 25, 50, 100, -1], [10, 25, 50, 100, "All"] ],
            columns: [
                { data: 'outlet_id'},
                { data: 'outlet_channel'},
                { data: 'outlet_account'},
                // 1+
                { data: 'Dancow1Madu200'},
                { data: 'Dancow1Madu400'},
                { data: 'Dancow1Madu800'},
                { data: 'Dancow1Madu1000'},
                { data: 'Dancow1Vanila200'},
                { data: 'Dancow1Vanila400'},
                { data: 'Dancow1Vanila800'},
                { data: 'Dancow1Vanila1000'},
                { data: 'Dancow1Cokelat400'},
                { data: 'Dancow1Cokelat800'},
                // 3+
                { data: 'Dancow3Madu200'},
                { data: 'Dancow3Madu400'},
                { data: 'Dancow3Madu800'},
                { data: 'Dancow3Madu1000'},
                { data: 'Dancow3Vanila400'},
                { data: 'Dancow3Vanila800'},
                { data: 'Dancow3Vanila1000'},
                { data: 'Dancow3Cokelat400'},
                { data: 'Dancow3Cokelat800'},
                // 5+
                { data: 'Dancow5Madu400'},
                { data: 'Dancow5Madu800'},
                { data: 'Dancow5Madu1000'},
                { data: 'Dancow5Vanila400'},
                { data: 'Dancow5Vanila800'},
                { data: 'Dancow5Cokelat400'},
                { data: 'Dancow5Cokelat800'},
                { data: 'Dancow5Cokelat1000'},
                { data: 'total'}
            ],
            columnDefs: [{
                "targets": 30,
                "render": function ( data, type, full, meta ) {
                    return (parseInt(full.Dancow1Madu200) + parseInt(full.Dancow1Madu400) + parseInt(full.Dancow1Madu800) + parseInt(full.Dancow1Madu1000) + parseInt(full.Dancow1Vanila200) + parseInt(full.Dancow1Vanila400) + parseInt(full.Dancow1Vanila800) + parseInt(full.Dancow1Vanila1000) + parseInt(full.Dancow1Cokelat400) + parseInt(full.Dancow1Cokelat800)) + (parseInt(full.Dancow3Madu200) + parseInt(full.Dancow3Madu400) + parseInt(full.Dancow3Madu800) + parseInt(full.Dancow3Madu1000) + parseInt(full.Dancow3Vanila400) + parseInt(full.Dancow3Vanila800) + parseInt(full.Dancow3Vanila1000) + parseInt(full.Dancow3Cokelat400) + parseInt(full.Dancow3Cokelat800)) + (parseInt(full.Dancow5Madu400) + parseInt(full.Dancow5Madu800) + parseInt(full.Dancow5Madu1000) + parseInt(full.Dancow5Vanila400) + parseInt(full.Dancow5Vanila800) + parseInt(full.Dancow5Cokelat400) + parseInt(full.Dancow5Cokelat800) + parseInt(full.Dancow5Cokelat1000));
                }
            },{
                className: "text-right", "targets": "_all" 
            }],
            "initComplete":function( settings, json){
                newpackByArea();
            },
            "fnRowCallback" : function(nRow, aData, iDisplayIndex){
                $("td:first", nRow).html(iDisplayIndex +1);
                if(aData.Dancow1Madu200 > 0) $("td:eq(3)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu400 > 0) $("td:eq(4)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu800 > 0) $("td:eq(5)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu1000 > 0) $("td:eq(6)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila200 > 0) $("td:eq(7)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila400 > 0) $("td:eq(8)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila800 > 0) $("td:eq(9)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila1000 > 0) $("td:eq(10)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Cokelat400 > 0) $("td:eq(11)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Cokelat800 > 0) $("td:eq(12)", nRow).css("background-color", '#FF4444');

                if(aData.Dancow3Madu200 > 0) $("td:eq(13)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu400 > 0) $("td:eq(14)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu800 > 0) $("td:eq(15)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu1000 > 0) $("td:eq(16)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila400 > 0) $("td:eq(17)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila800 > 0) $("td:eq(18)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila1000 > 0) $("td:eq(19)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Cokelat400 > 0) $("td:eq(20)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Cokelat800 > 0) $("td:eq(21)", nRow).css("background-color", '#FF4444');

                if(aData.Dancow5Madu400 > 0) $("td:eq(22)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Madu800 > 0) $("td:eq(23)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Madu1000 > 0) $("td:eq(24)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Vanila400 > 0) $("td:eq(25)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Vanila800 > 0) $("td:eq(26)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat400 > 0) $("td:eq(27)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat800 > 0) $("td:eq(28)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat1000 > 0) $("td:eq(29)", nRow).css("background-color", '#FF4444');
                return nRow;
            },
            "drawCallback": function( settings ) {
                var api = this.api();
                var data_0 = api.column(3).data().sum();
                var data_1 = api.column(4).data().sum();
                var data_2 = api.column(5).data().sum();
                var data_3 = api.column(6).data().sum();
                var data_4 = api.column(7).data().sum();
                var data_5 = api.column(8).data().sum();
                var data_6 = api.column(9).data().sum();
                var data_7 = api.column(10).data().sum();
                var data_8 = api.column(11).data().sum();
                var data_9 = api.column(12).data().sum();
                var data_10 = api.column(13).data().sum();
                var data_11 = api.column(14).data().sum();
                var data_12 = api.column(15).data().sum();
                var data_13 = api.column(16).data().sum();
                var data_14 = api.column(17).data().sum();
                var data_15 = api.column(18).data().sum();
                var data_16 = api.column(19).data().sum();
                var data_17 = api.column(20).data().sum();
                var data_18 = api.column(21).data().sum();
                var data_19 = api.column(22).data().sum();
                var data_20 = api.column(23).data().sum();
                var data_21 = api.column(24).data().sum();
                var data_22 = api.column(25).data().sum();
                var data_23 = api.column(26).data().sum();
                var data_24 = api.column(27).data().sum();
                var data_25 = api.column(28).data().sum();
                var data_26 = api.column(29).data().sum();
                var data_27 = api.column(30).data().sum();
                
                $( api.column(0).footer() ).html('Total');
                $( api.column(3).footer() ).html(data_0);
                $( api.column(4).footer() ).html(data_1);
                $( api.column(5).footer() ).html(data_2);
                $( api.column(6).footer() ).html(data_3);
                $( api.column(7).footer() ).html(data_4);
                $( api.column(8).footer() ).html(data_5);
                $( api.column(9).footer() ).html(data_6);
                $( api.column(10).footer() ).html(data_7);
                $( api.column(11).footer() ).html(data_8);
                $( api.column(12).footer() ).html(data_9);
                $( api.column(13).footer() ).html(data_10);
                $( api.column(14).footer() ).html(data_11);
                $( api.column(15).footer() ).html(data_12);
                $( api.column(16).footer() ).html(data_13);
                $( api.column(17).footer() ).html(data_14);
                $( api.column(18).footer() ).html(data_15);
                $( api.column(19).footer() ).html(data_16);
                $( api.column(20).footer() ).html(data_17);
                $( api.column(21).footer() ).html(data_18);
                $( api.column(22).footer() ).html(data_19);
                $( api.column(23).footer() ).html(data_20);
                $( api.column(24).footer() ).html(data_21);
                $( api.column(25).footer() ).html(data_22);
                $( api.column(26).footer() ).html(data_23);
                $( api.column(27).footer() ).html(data_24);
                $( api.column(28).footer() ).html(data_25);
                $( api.column(29).footer() ).html(data_26);
                $( api.column(30).footer() ).html(data_27);

                let temp = (parseInt(data_0) + parseInt(data_1) + parseInt(data_2) + parseInt(data_3) + parseInt(data_4) + parseInt(data_5) + parseInt(data_6) + parseInt(data_7) + parseInt(data_8) + parseInt(data_9)) + (parseInt(data_10) + parseInt(data_11) + parseInt(data_12) + parseInt(data_13) + parseInt(data_14) + parseInt(data_15) + parseInt(data_16) + parseInt(data_17) + parseInt(data_18)) + (parseInt(data_19) + parseInt(data_20) + parseInt(data_21) + parseInt(data_22) + parseInt(data_23) + parseInt(data_24) + parseInt(data_25) + parseInt(data_26));
                $( api.rows(18).column(30).footer() ).html(temp);
            }
        });
    }

    function newpackByArea(){
        $('.data-area').DataTable({
            dom: 'Blrtip',
            processing: true,
            serverSide: true,
            searching : false,
            // lengthChange : false,
            pageLength  : 10,
            bDestroy: true,
            order: [[ 0, "asc" ]],
            ajax: {
                url  : "/newpackByArea",
                type : "POST",
                data : function(d){
                    d._token = $("input[name=_token]").val();
                },
            },
            lengthMenu: [ [10, 25, 50, 100, -1], [10, 25, 50, 100, "All"] ],
            columns: [
                { data: 'outlet_id'},
                { data: 'region'},
                { data: 'area'},
                { data: 'bp'},
                { data: 'store'},
                // 1+
                { data: 'Dancow1Madu200'},
                { data: 'Dancow1Madu400'},
                { data: 'Dancow1Madu800'},
                { data: 'Dancow1Madu1000'},
                { data: 'Dancow1Vanila200'},
                { data: 'Dancow1Vanila400'},
                { data: 'Dancow1Vanila800'},
                { data: 'Dancow1Vanila1000'},
                { data: 'Dancow1Cokelat400'},
                { data: 'Dancow1Cokelat800'},
                // 3+
                { data: 'Dancow3Madu200'},
                { data: 'Dancow3Madu400'},
                { data: 'Dancow3Madu800'},
                { data: 'Dancow3Madu1000'},
                { data: 'Dancow3Vanila400'},
                { data: 'Dancow3Vanila800'},
                { data: 'Dancow3Vanila1000'},
                { data: 'Dancow3Cokelat400'},
                { data: 'Dancow3Cokelat800'},
                // 5+
                { data: 'Dancow5Madu400'},
                { data: 'Dancow5Madu800'},
                { data: 'Dancow5Madu1000'},
                { data: 'Dancow5Vanila400'},
                { data: 'Dancow5Vanila800'},
                { data: 'Dancow5Cokelat400'},
                { data: 'Dancow5Cokelat800'},
                { data: 'Dancow5Cokelat1000'},
                { data: 'total'}
            ],
            columnDefs: [{
                "targets": 32,
                "render": function ( data, type, full, meta ) {
                    return (parseInt(full.Dancow1Madu200) + parseInt(full.Dancow1Madu400) + parseInt(full.Dancow1Madu800) + parseInt(full.Dancow1Madu1000) + parseInt(full.Dancow1Vanila200) + parseInt(full.Dancow1Vanila400) + parseInt(full.Dancow1Vanila800) + parseInt(full.Dancow1Vanila1000) + parseInt(full.Dancow1Cokelat400) + parseInt(full.Dancow1Cokelat800)) + (parseInt(full.Dancow3Madu200) + parseInt(full.Dancow3Madu400) + parseInt(full.Dancow3Madu800) + parseInt(full.Dancow3Madu1000) + parseInt(full.Dancow3Vanila400) + parseInt(full.Dancow3Vanila800) + parseInt(full.Dancow3Vanila1000) + parseInt(full.Dancow3Cokelat400) + parseInt(full.Dancow3Cokelat800)) + (parseInt(full.Dancow5Madu400) + parseInt(full.Dancow5Madu800) + parseInt(full.Dancow5Madu1000) + parseInt(full.Dancow5Vanila400) + parseInt(full.Dancow5Vanila800) + parseInt(full.Dancow5Cokelat400) + parseInt(full.Dancow5Cokelat800) + parseInt(full.Dancow5Cokelat1000));
                }
            },{
                className: "text-right", "targets": "_all" 
            }],
            "initComplete":function( settings, json){
                newpackByStore();
            },
            "fnRowCallback" : function(nRow, aData, iDisplayIndex){
                $("td:first", nRow).html(iDisplayIndex +1);
                if(aData.Dancow1Madu200 > 0) $("td:eq(5)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu400 > 0) $("td:eq(6)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu800 > 0) $("td:eq(7)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu1000 > 0) $("td:eq(8)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila200 > 0) $("td:eq(9)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila400 > 0) $("td:eq(10)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila800 > 0) $("td:eq(11)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila1000 > 0) $("td:eq(12)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Cokelat400 > 0) $("td:eq(13)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Cokelat800 > 0) $("td:eq(14)", nRow).css("background-color", '#FF4444');

                if(aData.Dancow3Madu200 > 0) $("td:eq(15)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu400 > 0) $("td:eq(16)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu800 > 0) $("td:eq(17)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu1000 > 0) $("td:eq(18)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila400 > 0) $("td:eq(19)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila800 > 0) $("td:eq(20)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila1000 > 0) $("td:eq(21)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Cokelat400 > 0) $("td:eq(22)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Cokelat800 > 0) $("td:eq(23)", nRow).css("background-color", '#FF4444');

                if(aData.Dancow5Madu400 > 0) $("td:eq(24)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Madu800 > 0) $("td:eq(25)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Madu1000 > 0) $("td:eq(26)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Vanila400 > 0) $("td:eq(27)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Vanila800 > 0) $("td:eq(28)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat400 > 0) $("td:eq(29)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat800 > 0) $("td:eq(30)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat1000 > 0) $("td:eq(31)", nRow).css("background-color", '#FF4444');
                return nRow;
            },
            "drawCallback": function( settings ) {
                var api = this.api();
                var data_0 = api.column(5).data().sum();
                var data_1 = api.column(6).data().sum();
                var data_2 = api.column(7).data().sum();
                var data_3 = api.column(8).data().sum();
                var data_4 = api.column(9).data().sum();
                var data_5 = api.column(10).data().sum();
                var data_6 = api.column(11).data().sum();
                var data_7 = api.column(12).data().sum();
                var data_8 = api.column(13).data().sum();
                var data_9 = api.column(14).data().sum();
                var data_10 = api.column(15).data().sum();
                var data_11 = api.column(16).data().sum();
                var data_12 = api.column(17).data().sum();
                var data_13 = api.column(18).data().sum();
                var data_14 = api.column(19).data().sum();
                var data_15 = api.column(20).data().sum();
                var data_16 = api.column(21).data().sum();
                var data_17 = api.column(22).data().sum();
                var data_18 = api.column(23).data().sum();
                var data_19 = api.column(24).data().sum();
                var data_20 = api.column(25).data().sum();
                var data_21 = api.column(26).data().sum();
                var data_22 = api.column(27).data().sum();
                var data_23 = api.column(28).data().sum();
                var data_24 = api.column(29).data().sum();
                var data_25 = api.column(30).data().sum();
                var data_26 = api.column(31).data().sum();
                var data_27 = api.column(32).data().sum();
                
                $( api.column(0).footer() ).html('Total');
                $( api.column(5).footer() ).html(data_0);
                $( api.column(6).footer() ).html(data_1);
                $( api.column(7).footer() ).html(data_2);
                $( api.column(8).footer() ).html(data_3);
                $( api.column(9).footer() ).html(data_4);
                $( api.column(10).footer() ).html(data_5);
                $( api.column(11).footer() ).html(data_6);
                $( api.column(12).footer() ).html(data_7);
                $( api.column(13).footer() ).html(data_8);
                $( api.column(14).footer() ).html(data_9);
                $( api.column(15).footer() ).html(data_10);
                $( api.column(16).footer() ).html(data_11);
                $( api.column(17).footer() ).html(data_12);
                $( api.column(18).footer() ).html(data_13);
                $( api.column(19).footer() ).html(data_14);
                $( api.column(20).footer() ).html(data_15);
                $( api.column(21).footer() ).html(data_16);
                $( api.column(22).footer() ).html(data_17);
                $( api.column(23).footer() ).html(data_18);
                $( api.column(24).footer() ).html(data_19);
                $( api.column(25).footer() ).html(data_20);
                $( api.column(26).footer() ).html(data_21);
                $( api.column(27).footer() ).html(data_22);
                $( api.column(28).footer() ).html(data_23);
                $( api.column(29).footer() ).html(data_24);
                $( api.column(30).footer() ).html(data_25);
                $( api.column(31).footer() ).html(data_26);
                $( api.column(32).footer() ).html(data_27);

                let temp = (parseInt(data_0) + parseInt(data_1) + parseInt(data_2) + parseInt(data_3) + parseInt(data_4) + parseInt(data_5) + parseInt(data_6) + parseInt(data_7) + parseInt(data_8) + parseInt(data_9)) + (parseInt(data_10) + parseInt(data_11) + parseInt(data_12) + parseInt(data_13) + parseInt(data_14) + parseInt(data_15) + parseInt(data_16) + parseInt(data_17) + parseInt(data_18)) + (parseInt(data_19) + parseInt(data_20) + parseInt(data_21) + parseInt(data_22) + parseInt(data_23) + parseInt(data_24) + parseInt(data_25) + parseInt(data_26));
                $( api.rows(18).column(32).footer() ).html(temp);
            }
        });
    }
    
    function newpackByStore() {
        $('.data-store').DataTable({
            dom: 'Blrtip',
            processing: true,
            serverSide: true,
            searching : false,
            // lengthChange : false,
            pageLength  : 10,
            bDestroy: true,
            order: [[ 0, "asc" ]],
            ajax: {
                url  : "/newpackByStore",
                type : "POST",
                data : function(d){
                    d._token = $("input[name=_token]").val();
                },
            },
            lengthMenu: [ [10, 25, 50, 100, -1], [10, 25, 50, 100, "All"] ],
            columns: [
                { data: 'outlet_id'},
                { data: 'region'},
                { data: 'area'},
                { data: 'outlet_channel'},
                { data: 'outlet_account'},
                { data: 'outlet_nama'},
                // 1+
                { data: 'Dancow1Madu200'},
                { data: 'Dancow1Madu400'},
                { data: 'Dancow1Madu800'},
                { data: 'Dancow1Madu1000'},
                { data: 'Dancow1Vanila200'},
                { data: 'Dancow1Vanila400'},
                { data: 'Dancow1Vanila800'},
                { data: 'Dancow1Vanila1000'},
                { data: 'Dancow1Cokelat400'},
                { data: 'Dancow1Cokelat800'},
                // 3+
                { data: 'Dancow3Madu200'},
                { data: 'Dancow3Madu400'},
                { data: 'Dancow3Madu800'},
                { data: 'Dancow3Madu1000'},
                { data: 'Dancow3Vanila400'},
                { data: 'Dancow3Vanila800'},
                { data: 'Dancow3Vanila1000'},
                { data: 'Dancow3Cokelat400'},
                { data: 'Dancow3Cokelat800'},
                // 5+
                { data: 'Dancow5Madu400'},
                { data: 'Dancow5Madu800'},
                { data: 'Dancow5Madu1000'},
                { data: 'Dancow5Vanila400'},
                { data: 'Dancow5Vanila800'},
                { data: 'Dancow5Cokelat400'},
                { data: 'Dancow5Cokelat800'},
                { data: 'Dancow5Cokelat1000'},
                { data: 'total'}
            ],
            columnDefs: [{
                "targets": 33,
                "render": function ( data, type, full, meta ) {
                    return (full.Dancow1Madu200 + full.Dancow1Madu400 + full.Dancow1Madu800 + full.Dancow1Madu1000 + full.Dancow1Vanila200 + full.Dancow1Vanila400 + full.Dancow1Vanila800 + full.Dancow1Vanila1000 + full.Dancow1Cokelat400 + full.Dancow1Cokelat800) + (full.Dancow3Madu200 + full.Dancow3Madu400 + full.Dancow3Madu800 + full.Dancow3Madu1000 + full.Dancow3Vanila400 + full.Dancow3Vanila800 + full.Dancow3Vanila1000 + full.Dancow3Cokelat400 + full.Dancow3Cokelat800) + (full.Dancow5Madu400 + full.Dancow5Madu800 + full.Dancow5Madu1000 + full.Dancow5Vanila400 + full.Dancow5Vanila800 + full.Dancow5Cokelat400 + full.Dancow5Cokelat800 + full.Dancow5Cokelat1000);
                }
            },{
                className: "text-right", "targets": "_all" 
            }],
            "fnRowCallback" : function(nRow, aData, iDisplayIndex){
                $("td:first", nRow).html(iDisplayIndex +1);
                if(aData.Dancow1Madu200 > 0) $("td:eq(6)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu400 > 0) $("td:eq(7)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu800 > 0) $("td:eq(8)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Madu1000 > 0) $("td:eq(9)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila200 > 0) $("td:eq(10)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila400 > 0) $("td:eq(11)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila800 > 0) $("td:eq(12)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Vanila1000 > 0) $("td:eq(13)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Cokelat400 > 0) $("td:eq(14)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow1Cokelat800 > 0) $("td:eq(15)", nRow).css("background-color", '#FF4444');

                if(aData.Dancow3Madu200 > 0) $("td:eq(16)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu400 > 0) $("td:eq(17)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu800 > 0) $("td:eq(18)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Madu1000 > 0) $("td:eq(19)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila400 > 0) $("td:eq(20)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila800 > 0) $("td:eq(21)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Vanila1000 > 0) $("td:eq(22)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Cokelat400 > 0) $("td:eq(23)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow3Cokelat800 > 0) $("td:eq(24)", nRow).css("background-color", '#FF4444');

                if(aData.Dancow5Madu400 > 0) $("td:eq(25)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Madu800 > 0) $("td:eq(26)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Madu1000 > 0) $("td:eq(27)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Vanila400 > 0) $("td:eq(28)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Vanila800 > 0) $("td:eq(29)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat400 > 0) $("td:eq(30)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat800 > 0) $("td:eq(31)", nRow).css("background-color", '#FF4444');
                if(aData.Dancow5Cokelat1000 > 0) $("td:eq(32)", nRow).css("background-color", '#FF4444');
                return nRow;
            },
            "drawCallback": function( settings ) {
                var api = this.api();
                var data_0 = api.column(6).data().sum();
                var data_1 = api.column(7).data().sum();
                var data_2 = api.column(8).data().sum();
                var data_3 = api.column(9).data().sum();
                var data_4 = api.column(10).data().sum();
                var data_5 = api.column(11).data().sum();
                var data_6 = api.column(12).data().sum();
                var data_7 = api.column(13).data().sum();
                var data_8 = api.column(14).data().sum();
                var data_9 = api.column(15).data().sum();
                var data_10 = api.column(16).data().sum();
                var data_11 = api.column(17).data().sum();
                var data_12 = api.column(18).data().sum();
                var data_13 = api.column(19).data().sum();
                var data_14 = api.column(20).data().sum();
                var data_15 = api.column(21).data().sum();
                var data_16 = api.column(22).data().sum();
                var data_17 = api.column(23).data().sum();
                var data_18 = api.column(24).data().sum();
                var data_19 = api.column(25).data().sum();
                var data_20 = api.column(26).data().sum();
                var data_21 = api.column(27).data().sum();
                var data_22 = api.column(28).data().sum();
                var data_23 = api.column(29).data().sum();
                var data_24 = api.column(30).data().sum();
                var data_25 = api.column(31).data().sum();
                var data_26 = api.column(32).data().sum();
                var data_27 = api.column(33).data().sum();
                
                $( api.column(0).footer() ).html('Total');
                $( api.column(6).footer() ).html(data_0);
                $( api.column(7).footer() ).html(data_1);
                $( api.column(8).footer() ).html(data_2);
                $( api.column(9).footer() ).html(data_3);
                $( api.column(10).footer() ).html(data_4);
                $( api.column(11).footer() ).html(data_5);
                $( api.column(12).footer() ).html(data_6);
                $( api.column(13).footer() ).html(data_7);
                $( api.column(14).footer() ).html(data_8);
                $( api.column(15).footer() ).html(data_9);
                $( api.column(16).footer() ).html(data_10);
                $( api.column(17).footer() ).html(data_11);
                $( api.column(18).footer() ).html(data_12);
                $( api.column(19).footer() ).html(data_13);
                $( api.column(20).footer() ).html(data_14);
                $( api.column(21).footer() ).html(data_15);
                $( api.column(22).footer() ).html(data_16);
                $( api.column(23).footer() ).html(data_17);
                $( api.column(24).footer() ).html(data_18);
                $( api.column(25).footer() ).html(data_19);
                $( api.column(26).footer() ).html(data_20);
                $( api.column(27).footer() ).html(data_21);
                $( api.column(28).footer() ).html(data_22);
                $( api.column(29).footer() ).html(data_23);
                $( api.column(30).footer() ).html(data_24);
                $( api.column(31).footer() ).html(data_25);
                $( api.column(32).footer() ).html(data_26);
                $( api.column(33).footer() ).html(data_27);

                let temp = (parseInt(data_0) + parseInt(data_1) + parseInt(data_2) + parseInt(data_3) + parseInt(data_4) + parseInt(data_5) + parseInt(data_6) + parseInt(data_7) + parseInt(data_8) + parseInt(data_9)) + (parseInt(data_10) + parseInt(data_11) + parseInt(data_12) + parseInt(data_13) + parseInt(data_14) + parseInt(data_15) + parseInt(data_16) + parseInt(data_17) + parseInt(data_18)) + (parseInt(data_19) + parseInt(data_20) + parseInt(data_21) + parseInt(data_22) + parseInt(data_23) + parseInt(data_24) + parseInt(data_25) + parseInt(data_26));
                $( api.rows(18).column(33).footer() ).html(temp);
            }
        });
    }

</script>
@endsection
